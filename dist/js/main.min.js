const mainElement=document.querySelector(".main"),headerElement=document.querySelector(".header"),quizMenu=mainElement.querySelector(".quiz-menu"),quizMain=mainElement.querySelector(".quiz-main"),quizEnd=mainElement.querySelector(".quiz-end"),menuOptionList=quizMenu.querySelector(".option-list"),mainOptionList=quizMain.querySelector(".option-list"),menuOptions=Array.from(menuOptionList.children),mainOption=Array.from(mainOptionList.children);let quizzes={},currentQuiz={},quizScore=0,quizProgressValue=1,quizTopic="";function switchQuizFrame(e){const t=mainElement.querySelector({menu:".quiz-menu",main:".quiz-main",end:".quiz-end"}[e]);Array.from(mainElement.children).forEach((e=>{e.classList.toggle("none",e!==t)}))}function updateProgressIndificators(){const e=quizMain.querySelector("#question-index"),t=quizMain.querySelector("#quiz-progress");quizProgressValue+=1,e=quizProgressValue,t.value=quizProgressValue}function updateQuizTopicIndificators(){document.querySelectorAll(".quiz-topic").forEach((e=>{const t=e.querySelector("img"),i=e.querySelector("span");t.src=currentQuiz.icon,t.setAttribute("data-icon",quizTopic.toLowerCase()),i.textContent=quizTopic}))}function getQuestionDetails(e){const t=currentQuiz.questions[quizProgressValue],{question:i,options:n,answer:r}=t,o={question:i,options:n,answer:r};if(e in o!=!1)return o[e];console.error("No such detail available")}function markCorrectAnswer(e,t,i){const n=i.querySelector("label");e===t?n.setAttribute("data-correct","true"):n.setAttribute("data-correct","false")}function renderQuestionDetails(){const e=quizMain.querySelector("#question-text"),t=quizMain.querySelector(".option-list"),i=Array.from(t.children);e.textContent=getQuestionDetails("question"),i.forEach((e=>{const t=e.querySelector("[data-option-text]"),n=i.indexOf(e),r=getQuestionDetails("options")[n],o=getQuestionDetails("answer");t.textContent=r,markCorrectAnswer(r,o,e)}))}function handleOptionSelection(e){}function startQuizAbout(e){currentQuiz=quizzes.filter((t=>t.title===e))[0],quizScore=0,quizProgressValue=1,switchQuizFrame("main"),updateQuizTopicIndificators(),renderQuestionDetails()}fetch("/data.json").then((e=>{if(e.ok)return e.json();throw new Error("response was not received")})).then((e=>{quizzes=e.quizzes})).catch((e=>{console.error(e)})),menuOptions.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),quizTopic=e.currentTarget.getAttribute("data-quiz-option"),startQuizAbout(quizTopic)}))}));